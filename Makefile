########################################################################################################################
# ACC_RCV MAIN MAKEFILE
########################################################################################################################
MAKEFILE_NAME=$(firstword $(MAKEFILE_LIST))

LIBS_DIRS=$(wildcard *_lib)
LIBS=$(foreach D,$(LIBS_DIRS),$D/$D.a)

CHILD_MAKES=AccRcv.mk
CHILD_TARGETS=$(patsubst %.mk,%,$(CHILD_MAKES))

$(info LIBS_DIRS: $(LIBS_DIRS))
$(info LIBS: $(LIBS))

all: libs acc_rcv/acc_rcv acc_snd/acc_snd

clean:
	@echo "===================================================="
	@echo "BUILDING: ACC_RCV"
	@echo "===================================================="
	cd acc_rcv && $(MAKE) clean
	@echo "===================================================="
	@echo "CLEANING: ACC_SND"
	@echo "===================================================="
	cd acc_snd && $(MAKE) clean
	@echo "===================================================="
	@echo "CLEANING: ACC_LIB"
	@echo "===================================================="
	cd acc_lib && $(MAKE) clean

acc_rcv/acc_rcv:
	@echo "===================================================="
	@echo "BUILDING: ACC_RCV"
	@echo "===================================================="
	cd acc_rcv && $(MAKE)

acc_snd/acc_snd:
	@echo "===================================================="
	@echo "BUILDING: ACC_SND"
	@echo "===================================================="
	cd acc_snd && $(MAKE)


libs: $(LIBS)

%.a:
	@echo "===================================================="
	@echo "BUILDING: LIB"
	@echo "===================================================="
	cd $(@D) && $(MAKE)


.PHONY: all clean libs

########################################################################################################################
########################################################################################################################
